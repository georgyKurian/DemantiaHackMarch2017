<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Patient Report</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title></title>
        <!-- Bootstrap Core CSS -->
        <link href="../MyStyle/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
        <!-- Custom CSS -->
        <link href="../MyStyle/dist/css/sb-admin-2.css" rel="stylesheet" />
        <!-- Custom Fonts -->
        <link href="../MyStyle/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    </h:head>
    <h:body>
        <div class="container">
            <div>
                <input style="margin-top: 50px;" type="button" class="btn btn-danger pull-right" value="Logout"></input><img src="images/Logo2.png" class="img-responsive" ></img>
            </div>
        
            <div class="col-lg-8">
                <canvas id="myChart" ></canvas>
            </div>

            <div class="col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <i class="fa fa-bell fa-fw"></i> Patient Details
                </div>
                <div class="panel-body">
                    <div class="list-group">
                        <a href="#" class="list-group-item">
                            <i class="fa fa-child fa-fw"></i> Name
                            <span class="pull-right text-muted small">
                                <em>#{patients.currentPatient.name}</em>
                            </span>
                        </a>
                        <a href="#" class="list-group-item">
                            <i class="fa fa-child fa-fw"></i> Username
                            <span class="pull-right text-muted small">
                                <em>#{patients.currentPatient.username}</em>
                            </span>
                        </a>

                        <a href="#" class="list-group-item">
                            <i class="fa fa-child fa-fw"></i> Age
                            <span class="pull-right text-muted small">
                                <em>#{patients.currentPatient.age}</em>
                            </span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
            
        
        <script>
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],
                    datasets: [{
                            label: 'apples',
                            data: [12, 19, 3, 17, 6, 3, 7],
                            backgroundColor: "rgb(112, 133, 194)"
                        }]
                }
            });
        </script>
        <h:form>
            <h:dataTable class="table table-bordered table-hover table-striped table-responsive" value="#{quizAttempts.getQuizAttemptByUsername(patients.currentPatient.username)}"  var="p">
                
                <h:column>
                    <f:facet name="header">Date</f:facet>
                        #{p.date.toString()}
                </h:column>
                <h:column>
                    <f:facet name="header">Success</f:facet>
                        #{quizAnswers.getScoreByQuizId(p.id)} %
                </h:column>
            </h:dataTable>
            <h:form>
                <h:commandButton value="Back" class="btn btn-info" action="adminHome"/>
            </h:form>
        </h:form>
        </div>
    </h:body>
</html>

